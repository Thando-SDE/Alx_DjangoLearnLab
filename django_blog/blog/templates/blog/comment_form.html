{% extends "blog/base.html" %}
{% block title %}
    {% if form.instance.pk %}Edit Comment{% else %}Add New Comment{% endif %}
{% endblock %}
{% block content %}
<h1>{% if form.instance.pk %}Edit Comment{% else %}Add New Comment{% endif %}</h1>

{% if form.instance.pk %}
    <p>On post: <strong>{{ object.post.title }}</strong></p>
{% endif %}

<form method="POST">
    {% csrf_token %}
    <div class="form-group">
        {{ form.content.label_tag }}
        {{ form.content }}
        {% if form.content.errors %}
            <div class="error">{{ form.content.errors }}</div>
        {% endif %}
        <small class="form-text text-muted">Your comment must be between 10 and 1000 characters.</small>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
    {% if form.instance.pk %}
        <a href="{% url 'post-detail' object.post.pk %}" class="btn btn-secondary">Cancel</a>
    {% else %}
        <a href="{% url 'post-detail' view.kwargs.pk %}" class="btn btn-secondary">Cancel</a>
    {% endif %}
</form>
{% endblock %}
